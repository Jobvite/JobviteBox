<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <title>JobViteBox Demo</title>
        <meta name="viewport" content="width=device-width">
        <link rel="stylesheet" href="demo.css">
    </head>
    <body>
        <h1>JobVite Demo</h1>
        <p>
            The JobVite feed is displayed below. Click the "Get Feed"
            button to reload the latest.
        </p>
        <p>
            To find your company ID, login to JobVite and then click
            the View All Jobs link at the bottom of the Open Jobs list.
            View source on the All Jobs page and look for the <strong>companyId</strong>
            JavaScript variable.
        </p>

        <label for="companyId">Company ID:</label>
        <input type="text" id="companyId" value="qx99Vfwu"></input>

        <input type="button" id="getFeed" value="Get Feed"></input>

        <h3>JobVite Feed:</h3>
        <div id="jobvite"></div>
        
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.0/jquery.min.js"></script>
        <script src="jobvitebox.js"></script>
        <script>
            // TODO: ajaxstart / ajaxstop not called??
            $(document)
                .ajaxStart(function() {
                    alert('get');
                    $(this).attr('disabled', 'disabled');
                })
                .ajaxStop(function() {
                    $(this).removeAttr('disabled');
                });

            var loadJobs = function() {
                $('#jobvite').jobViteBox($('#companyId').val());
            };

            $(document).ready(function() {
                $('#getFeed')
                    .live(
                        'click',
                        function() {
                            loadJobs();
                    });

                loadJobs();
            });
        </script>
    </body>
</html>